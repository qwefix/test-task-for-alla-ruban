(this["webpackJsonptest-task-for-alla-ruban"]=this["webpackJsonptest-task-for-alla-ruban"]||[]).push([[0],{10:function(e,t,r){e.exports={wrapper:"Filter_wrapper__2k2oJ",input:"Filter_input__3i9kb",select:"Filter_select__2SbEW"}},15:function(e,t,r){e.exports={inner_th:"TableHeader_inner_th__290Me",down:"TableHeader_down__B05GJ",up:"TableHeader_up__dRNhG"}},16:function(e,t,r){e.exports={spinner:"Spinner_spinner__McUW6",blackout:"Spinner_blackout__3DZKg"}},32:function(e,t,r){},33:function(e,t,r){},5:function(e,t,r){e.exports={pagination_wrapper:"Pagination_pagination_wrapper__1Zz92",current:"Pagination_current__3TfTG",clickable:"Pagination_clickable__3hZIr"}},58:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(8),s=r.n(c),l=(r(32),r(33),r(2)),i=r(9),o=r(4),u=r(26),d=function(){return u.get("https://www.filltext.com/?rows=32&id={number|1000}&firstName={firstName}&lastName={lastName}&email={email}&phone={phone|(xxx)xxx-xx-xx}&adress={addressObject}&description={lorem|32}").then((function(e){return e.data}))},j=[{name:"id",index:0,path:"id"},{name:"First name",index:1,path:"firstName"},{name:"Last Name",index:2,path:"lastName"},{name:"Email",index:3,path:"email"},{name:"Phone",index:4,path:"phone"},{name:"State",index:5,path:"state"}],p="SELECT_COLUMN_HEADER",b="SETUP_TABLE_LIST",f="SELECT_PROFILE",h="CLOSE_INFO",O="CHANGE_FILTER_VALUE",x="ORDER_SHOWN_ARRAY",m="SELECT_PAGE",g={columns:[].concat(j),shownUsers:[],orderedUsers:[],allUsersArr:[],filtredUsers:[],selectedProfile:null,filterValue:"",selectedState:"",allStates:[],page:0,spinner:!0},_={setupPage:function(){return function(e){d().then((function(t){e(v.setupTableList(t.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{filterString:[e.id,e.firstName,e.lastName,e.email,e.phone].join("+").toUpperCase(),reduxID:t,state:e.adress.state})}))))}))}},changeFilterValue:function(e,t){return function(r){r(v.changeFilterValue(e,t)),r(v.orderShownArray())}},selectColumn:function(e){return function(t){t(v.selectColumn(e)),t(v.orderShownArray())}}},v={setupTableList:function(e){return{type:b,data:e}},selectColumn:function(e){return{type:p,id:e}},changeFilterValue:function(e,t){return{type:O,value:e,state:t}},selectProfile:function(e){return{type:f,reduxID:e}},closeInfo:function(){return{type:h}},orderShownArray:function(){return{type:x}},selectPage:function(e){return{type:m,page:e-1}}},w={selectProfile:v.selectProfile,closeInfo:v.closeInfo,changeFilterValue:_.changeFilterValue,selectColumn:_.selectColumn,selectPage:v.selectPage},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(l.a)(Object(l.a)({},e),{},{filtredUsers:t.data,allUsersArr:t.data,orderedUsers:t.data,allStates:Object(o.a)(t.data).map((function(e){return e.state})).filter((function(e,t,r){return r.indexOf(e)===t})),shownUsers:Object(o.a)(t.data).splice(0,20),spinner:!1});case f:return Object(l.a)(Object(l.a)({},e),{},{selectedProfile:e.allUsersArr.find((function(e){return e.reduxID===t.reduxID}))});case h:return Object(l.a)(Object(l.a)({},e),{},{selectedProfile:null});case O:var r=Object(o.a)(e.allUsersArr).filter((function(e){return e.filterString.includes(t.value.split("").filter((function(e){return" "!==e})).join("").toUpperCase())})).filter((function(e){return e.state.includes(t.state)}));return Object(l.a)(Object(l.a)({},e),{},{filterValue:t.value.split("").filter((function(e){return" "!==e})).join(""),filtredUsers:Object(o.a)(r),page:0,selectedState:t.state});case p:var a=[].concat(j),n=Object(l.a)({},e.columns[t.id]);switch(n.arrow){case void 0:n.arrow="down";break;case"down":n.arrow="up";break;case"up":n.arrow=void 0}return a.splice(t.id,1,n),Object(l.a)(Object(l.a)({},e),{},{columns:a,page:0});case x:var c=e.columns.find((function(e){return e.arrow}));if(!c)return Object(l.a)(Object(l.a)({},e),{},{shownUsers:Object(o.a)(e.filtredUsers).splice(e.page,20),orderedUsers:Object(o.a)(e.filtredUsers)});var s=1,i=new Intl.Collator("en",{numeric:!0,sensitivity:"base"});"up"===c.arrow&&(s=-1);var u=Object(o.a)(e.filtredUsers);return u.sort((function(e,t){return s*i.compare(e[c.path],t[c.path])})),Object(l.a)(Object(l.a)({},e),{},{orderedUsers:Object(o.a)(u),shownUsers:Object(o.a)(u).splice(e.page,20)});case m:return Object(l.a)(Object(l.a)({},e),{},{page:t.page,shownUsers:Object(o.a)(e.orderedUsers).splice(20*t.page,20)});default:return e}},N=r(0);var U=function(e){var t=e.id,r=e.reduxID,a=e.firstName,n=e.lastName,c=e.email,s=e.phone,l=e.adress.state,i=e.select;return Object(N.jsxs)("tr",{onClick:function(){i(r)},children:[Object(N.jsx)("td",{children:t}),Object(N.jsx)("td",{children:a}),Object(N.jsx)("td",{children:n}),Object(N.jsx)("td",{children:c}),Object(N.jsx)("td",{children:s}),Object(N.jsx)("td",{children:l})]})},S=r(6),k=r.n(S),C=r(7),I=r.n(C);var E=function(e){var t=e.profile,r=e.close;if(!t)return Object(N.jsx)("div",{className:I.a.info_wrapper+" "+I.a.hidden});var a=t.firstName,n=t.lastName,c=t.description,s=t.adress;return Object(N.jsxs)("div",{className:I.a.info_wrapper,children:[Object(N.jsx)("div",{className:I.a.closeButton,onClick:r,children:"Close"}),Object(N.jsx)("h4",{children:"Profile info"}),Object(N.jsxs)("p",{children:["Selected Profile: ",a+" "+n]}),Object(N.jsxs)("p",{children:["Description: ",c]}),Object(N.jsxs)("p",{children:["Address: ",s.city+" "+s.streetAddress,Object(N.jsx)("br",{}),"Index: ",s.zip," ",Object(N.jsx)("br",{}),"State: ",s.state]})]})},T=r(10),F=r.n(T);function A(e){var t=e.value,r=e.handler,a=e.allStates,c=e.selectedState,s=n.a.useRef(),l=n.a.useRef();return Object(N.jsxs)("div",{className:F.a.wrapper,children:[Object(N.jsx)("input",{ref:s,onChange:function(){return r(s.current.value,l.current.value)},value:t,className:F.a.input,type:"text",placeholder:"Filter"}),Object(N.jsxs)("select",{className:F.a.select,value:c,ref:l,onChange:function(){return r(s.current.value,l.current.value)},children:[Object(N.jsx)("option",{value:"",children:"All states"}),a.map((function(e){return Object(N.jsx)("option",{value:e,children:e},e)}))]})]})}var y=r(15),L=r.n(y),V=r.p+"static/media/triangle.eed98ae4.svg";var R=function(e){return Object(N.jsx)("th",{onClick:e.handler,children:Object(N.jsxs)("div",{className:L.a.inner_th,children:[e.name,Object(N.jsx)("img",{className:L.a[e.arrow],src:V,alt:""})]})})},D=r(5),B=r.n(D);var G=function(e){var t=[e.currentPage-2,e.currentPage-1,e.currentPage,e.currentPage+1,e.currentPage+2];return Object(N.jsxs)("div",{className:B.a.pagination_wrapper,children:[1===e.currentPage?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{title:"to first page",children:"|<"}),Object(N.jsx)("div",{title:"to previous page",children:"<"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{title:"to first page",onClick:function(){return e.selectPage(1)},className:B.a.clickable,children:"|<"}),Object(N.jsx)("div",{title:"to previous page",onClick:function(){return e.selectPage(e.currentPage-1)},className:B.a.clickable,children:"<"})]}),t?t.map((function(t){return t>0&&(t<=e.totalPages||void 0===e.totalPages)?t!==e.currentPage?Object(N.jsx)("div",{className:B.a.clickable,onClick:function(){return e.selectPage(t)},children:t},t):Object(N.jsx)("div",{className:B.a.current,children:t},t):Object(N.jsx)("div",{},t)})):null,e.currentPage===e.totalPages?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{title:"to next page",children:">"}),Object(N.jsx)("div",{title:"to last page",children:">|"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{title:"to next page",onClick:function(){return e.selectPage(e.currentPage+1)},className:B.a.clickable,children:">"}),Object(N.jsx)("div",{title:"to last page",onClick:function(){return e.selectPage(e.totalPages)},className:B.a.clickable,children:">|"})]})]})},H=r.p+"static/media/spinner.c7d9f081.gif",W=r(16),J=r.n(W);function M(){return Object(N.jsx)("div",{className:J.a.blackout,children:Object(N.jsx)("img",{src:H,alt:"loading",className:J.a.spinner})})}var z=function(e){return e.spinner?Object(N.jsx)("div",{className:k.a.wrapper,children:Object(N.jsx)(M,{})}):Object(N.jsxs)("div",{className:k.a.wrapper,children:[Object(N.jsx)(A,{selectedState:e.selectedState,value:e.filterValue,handler:e.changeFilterValue,allStates:e.allStates}),Object(N.jsx)("div",{className:k.a.table_wrapper,children:Object(N.jsxs)("table",{className:k.a.table,children:[Object(N.jsx)("thead",{className:k.a.thead,children:Object(N.jsx)("tr",{children:e.columns.map((function(t,r){return Object(N.jsx)(R,Object(l.a)({handler:function(){e.selectColumn(t.index)}},t),r)}))})}),Object(N.jsx)("tbody",{children:e.shownUsers.map((function(t){return Object(N.jsx)(U,Object(l.a)({select:e.selectProfile},t),t.reduxID)}))})]})}),Object(N.jsx)(E,{profile:e.selectedProfile,close:e.closeInfo}),Object(N.jsx)(G,{currentPage:e.page+1,totalPages:Math.ceil(e.orderedUsers.length/20),selectPage:e.selectPage})]})},Z=r(17),Y=r(27),K=Object(Z.b)(P,Object(Z.a)(Y.a));var Q=Object(i.b)((function(e){return{shownUsers:e.shownUsers,page:e.page,filterValue:e.filterValue,selectedProfile:e.selectedProfile,columns:e.columns,orderedUsers:e.orderedUsers,allStates:e.allStates,selectedState:e.selectedState,spinner:e.spinner}}),w)((function(e){return n.a.useEffect((function(){K.dispatch(_.setupPage())}),[]),Object(N.jsx)(z,Object(l.a)({},e))}));var q=function(){return Object(N.jsx)(Q,{})};s.a.render(Object(N.jsx)(i.a,{store:K,children:Object(N.jsx)(q,{})}),document.getElementById("root"))},6:function(e,t,r){e.exports={wrapper:"Table_wrapper__3xz9T",table_wrapper:"Table_table_wrapper__1wfba",table:"Table_table__3W2Ve",thead:"Table_thead__Ww0ew"}},7:function(e,t,r){e.exports={info_wrapper:"Info_info_wrapper__2oTxL",hidden:"Info_hidden__2UGRx",closeButton:"Info_closeButton__1IjQY"}}},[[58,1,2]]]);
//# sourceMappingURL=main.cf0fad91.chunk.js.map